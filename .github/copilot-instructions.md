---
alwaysApply: true
---
# SimPy 온톨로지 결합 제조공정 시뮬레이션 자동생성 가이드

## 프로젝트 개요
SimPy 기반의 제조공정 시뮬레이션 프레임워크에 온톨로지를 결합해 시뮬레이션 자동생성을 개발하는 프로젝트입니다. 이 프레임워크는 다양한 제조 환경을 모델링하고 시뮬레이션할 수 있는 확장 가능한 구조를 제공합니다.

## 프로젝트 목표
E-bom, M-bom, 추가정보 -> 온톨로지 생성 후 인스턴스 추가 -> SWRL언어를 사용하여 규칙 정의 후 pellet추론기를 사용하여 추론 -> 프레임워크를 사용하여 '공정 시뮬레이션 자동생성'









## 코드 작성 원칙

### 1. SimPy 활용 극대화
- SimPy의 내장 메서드와 어트리뷰트를 최대한 활용하여 구현
- 커스텀 구현보다 SimPy의 기본 기능 우선 사용
- 예: `env.process()`, `env.timeout()`, `Resource`, `Container` 등

### 2. 호환성 및 확장성
- 모든 새로운 기능은 기존 코드와 완벽한 하위 호환성 유지
- 기존 API를 변경하지 않고 새로운 기능 추가
- 인터페이스 변경 시 deprecation warning 제공

### 3. 코드 구조 및 스타일
- **Import 규칙**: 
  - 절대 경로 사용 (예시: `from sim.core.machine import Machine`)
  - 상대 경로 import 금지
- **문서화**:
  - 모든 클래스, 메서드, 함수에 상세한 docstring 작성
  - 파라미터 타입 힌트 필수
- **예외 처리**:
  - 명확한 에러 메시지와 함께 적절한 예외 발생
  - 사용자가 문제를 쉽게 파악하고 해결할 수 있도록 가이드 제공

## 출력 형식 가이드

### 코드 작성 시
- example.py 같은 예제 파일 작성 금지. 대신 사용법은 md파일을 작성하여 상세히 설명
- 요청에 의해 시나리오 코드 작성시 프로젝트 루트를 파이썬 모듈 검색 경로에 추가
- 시나리오 코드 작성시 scenario 폴더에 작성하시오
- log md로 저장 : 시나리오 코드 작성시 시나리오를 실행하면 터미널 창에 쭉 기록이 뜨는데 이걸 '그대로' log폴더에 md파일로 저장하게 하는 코드를 작성하시오
- 프로젝트 루트를 파이썬 모듈 검색 경로에 추가(예시:project_root = os.path.dirname(os.path.dirname(os.path.abspath)(__file__)))

### 사용 가이드 작성 시
- 코드 예제 대신 텍스트 기반의 상세한 사용 가이드 제공
- 단계별 설명과 함께 개념적인 흐름 설명
- 주요 클래스와 메서드의 역할 및 상호작용 설명
